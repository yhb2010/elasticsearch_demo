写索引时只能写在主分片上，然后同步到副本上，那么，一条数据应该被写在哪个分片上呢？如何知道一条数据应该被写在p0还是p1上，答案是路由，路由公式：
	shard=hash(routing)%number_of_primary_shards
	routing是一个可选择的值，默认是文档_id(文档的唯一主键，文档在创建时，如果文档的_id已经存在，则进行更新，否则创建)。

由于在ES集群中每个节点都知道集群中的文档的存放位置（通过路由公式定位），所以每个节点都有处理读写请求的能力。在一个写请求被发送到集群中的一个节点后，
此时，该节点被称为协调节点，协调节点会根据路由公式计算出需要写到哪个分片上，再将请求转发到该分片的主分片节点上。写操作的流程如下：
	1、客户端向node1（协调节点）发送写请求
	2、node1通过文档的_id确定文档属于哪个分片(在本例中时编号为0的分片)。请求会被转发到主分片所在的节点node3上
	3、node3在主分片上执行请求，如果成功，则将请求并行转发到node1和node2的副本分片上，一旦所有的副本分片都报告成功(默认),则node3将向协调节点报
	告成功，协调节点向客户端报告成功。

	例子：node1：r0、p1
		 node2：r0、r1
		 node3：p0、r1